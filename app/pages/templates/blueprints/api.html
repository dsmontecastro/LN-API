{% extends 'base.html' %}

{% block main %}

{% set URL = request.root_url %}


<div id='main'>

    <div id='header'>

        ({{ entries | length }}) {{ table }}

    </div>


    <div id='api' class='content'>

        <form id='filters'>

            <div id='queries'>

                {% for query in queries %}

                {% set type = queries[query].input %}

                <div id='query-{{ query }}' class='query'>
                    <label> {{ query | capitalize }} </label>
                    <input type='{{ type }}' />
                </div>

                {% endfor %}

            </div>

            <button type='submit'> Search </button>

        </form>


        <div id='grid'>

            {% for entry in entries %}

            {% set name = entry.title | replace(' vol', ' Vol') %}
            {% set href = '/entry/show/' + entry._id | string %}

            <a href='{{ href }}'>
                <img class='cover' src='{{ entry.cover }}' alt='{{ name }}' title='{{ name }}'>
                {{ entry.date }}
            </a>

            {% endfor %}

        </div>

    </div>

</div>

{% endblock %}

<script>
    const items = entries
</script>